<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:wicket="http://wicket.apache.org/dtds.data/wicket-xhtml1.4-strict.dtd">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>

<body>
<wicket:extend>
  <div wicket:id="feedback">[Validation errors]</div>

  <form wicket:id="form">
  <fieldset><legend style="display: inline;"><wicket:message key="upload" /></legend>
  <table class="oldform">
    <tr>
      <th><label for="uploadCell"><wicket:message key="fibu.datev.upload" /></label></th>
      <td id="uploadCell"><input wicket:id="fileInput" id="upload" type="file" /></td>
    </tr>
    <tr>
      <th>&nbsp;</th>
      <td><wicket:container wicket:id="filterType">
        <wicket:container wicket:id="repeater">[radio buttons: all, modified and faulty]</wicket:container>
      </wicket:container></td>
    </tr>
    <tr>
      <td colspan="2" class="buttons"><span wicket:id="importAccountList">[import account list]</span><span wicket:id="importAccountingRecords">[accounting
      records]</span><span wicket:id="clearStorage">[clear storage]</span></td>
    </tr>
  </table>
  </fieldset>

  <div wicket:id="storage">
  <h1 wicket:id="storageHeading">[Import storage filename]</h1>
  <div id="infolayer">
  <table wicket:id="errorPropertiesTable">
    <tr>
      <th>Key</th>
      <th>Error values</th>
    </tr>
    <tr wicket:id="errorProperties">
      <td wicket:id="propertyKey">[${prop.key}]</td>
      <td><span wicket:id="propertyItems">[forEach ${prop.value}: ${val}, ...] </span></td>
    </tr>
  </table>
  <pre wicket:id="bwa">[${actionBean.bwa}]</pre></div>
  <fieldset class="section" wicket:id="sheetRepeater"><legend wicket:id="sheetName">[Sheet_: ${sheet.name} ...]</legend> <a
    wicket:id="toggle"><img src="../images/zoom_in.png" wicket:id="zoomInImage" /><img src="../images/zoom_out.png" wicket:id="zoomOutImage" /></a>
  <span wicket:id="statistics">[Total=...]</span> <a wicket:id="reconcileLink">[reconcile]</a> <a wicket:id="commitLink">[commit]</a> <a
    wicket:id="selectAllLink">[select all]</a> <a wicket:id="deselectAllLink">[deselect all]</a> <a wicket:id="showErrorSummaryLink">[show error
  summary]</a> <a wicket:id="showBWALink">[show BWA]</a>


  <table class="dataTable" wicket:id="sheetTable" cellspacing="0">
    <tbody>
      <tr>
        <th>&nbsp;</th>
        <th wicket:id="headColRepeater"></th>
      </tr>
      <tr wicket:id="rowRepeater">
        <td></td>
        <td wicket:id="colRepeater"></td>
      </tr>
      <tr class="${trStyle}">
        <td><a href="#"><c:if test="${sheet.status == 'RECONCILED'}">
          <stripes:checkbox name="selectedItems[${element.index}]"></stripes:checkbox>
        </c:if><c:choose>
          <c:when test="${element.new}">
            <pf:image src="/images/add.png" />
          </c:when>
          <c:when test="${element.modified}">
            <pf:image src="/images/pencil.png" />
          </c:when>
          <c:otherwise>
            <pf:image src="/images/page_white.png" />
          </c:otherwise>
        </c:choose></a></td>
        <c:choose>
          <c:when test="${fn:contains(element.value.class.name, 'org.projectforge.fibu.KontoDO')}">
            <td style="white-space: nowrap; text-align: right;">${obj.nummer}</td>
            <td style="">${obj.bezeichnung}</td>
          </c:when>
          <c:otherwise>
            <td style="white-space: nowrap; text-align: right;">${obj.satznr}</td>
            <td style=""><pf:date date="${obj.datum}" type="date" /></td>
            <td style="white-space: nowrap; text-align: right;"><pf:currency value="${obj.betrag}" /></td>
            <td style="">${obj.text}</td>
            <td style=""><c:if test="${obj.konto != null}">${obj.konto.nummer}</c:if></td>
            <td style=""><c:if test="${obj.gegenKonto != null}">${obj.gegenKonto.nummer}</c:if></td>
            <td style=""><c:if test="${obj.kost1 != null}">${obj.kost1.shortDisplayName}</c:if></td>
            <td style=""><c:if test="${obj.kost2 != null}">${obj.kost2.shortDisplayName}</c:if></td>
          </c:otherwise>
        </c:choose>
        <td style=""><c:if test="${dbObj != null}">
          <c:forEach items="${element.propertyChanges}" var="delta">
                          ${delta.propertyName}=<a title="${delta.oldValue}">${delta.newValue}</a>;
                        </c:forEach>
        </c:if>
        <td><c:if test="${element.faulty}">
          <span style="color: red; font-weight: bold;">${element.errorProperties}</span>
        </c:if></td>
      </tr>
    </tbody>
  </table>
  </fieldset>
  </div>
  </form>
</wicket:extend>
</body>
</html>