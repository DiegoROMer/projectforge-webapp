<?xml version="1.0" encoding="UTF-8"?>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:wicket="http://wicket.apache.org/dtds.data/wicket-xhtml1.4-strict.dtd">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>

<body>
<wicket:extend>
  <div wicket:id="feedback">[Validation errors]</div>

  <form wicket:id="form"><wicket:container wicket:id="uploadContainer">
    <h3><wicket:message key="upload" /></h3>
    <table class="oldform">
      <tr>
        <th><label for="uploadCell"><wicket:message key="fibu.kost.reporting.upload" /></label></th>
        <td id="uploadCell"><input wicket:id="fileInput" id="upload" type="file" /></td>
      </tr>
      <tr>
        <td colspan="2" class="buttons"><span wicket:id="importReportObjectives">[import]</span></td>
      </tr>
    </table>
  </wicket:container> <wicket:container wicket:id="filterSettings">
    <!--  Report available. -->
    <h3><wicket:message key="label.filterSettings" /></h3>
    <table class="oldform">
      <tbody>
        <tr>
          <th><wicket:message key="timePeriod" /></th>
          <td><span wicket:id="fromDate">[from date]</span> - <span wicket:id="toDate">[to date]</span></td>
          <td class="buttons"><span wicket:id="createReport">[load report]</span><span wicket:id="clear">[clear]</span></td>
        </tr>
      </tbody>
    </table>
  </wicket:container> <wicket:container wicket:id="storageContainer">
    <!--  Report is available and load. -->
    <h1 wicket:id="title">[${report.id} - ${report.title}: ${report.zeitraum}]</h1>
    <h2 wicket:id="path"><wicket:container wicket:id="actionLinkRepeater"> -&gt; <a wicket:id="actionLink"><span
        wicket:id="label">[path]</span></a>
    </wicket:container></h2>
    <table class="dataview">
      <thead>
        <tr>
          <th>&nbsp;</th>
          <th></th>
          <th wicket:id="reportObjectiveId">[report objective id]</th>
          <c:forEach var="child" items="${report.childs}">
            <th><c:choose>
              <c:when test="${child.hasChilds eq true}">
                <a onclick="javascript:submitSelectedEvent('current', '${child.id}')" href="#">${child.id}</a>
              </c:when>
              <c:otherwise>${child.id}</c:otherwise>
            </c:choose> <stripes:link href="/secure/fibu/BuchungssatzList.action">
              <stripes:param name="reportId" value="${child.id}" />
              <pf:image src="/images/attach.png" />
            </stripes:link></th>
          </c:forEach>
        </tr>
      </thead>
      <tbody>
        <c:set var="style" value="even" />
        <c:forEach var="zeile" items="${actionBean.childBwaTable}">
          <c:if test="${zeile[0].priority.ordinal ge actionBean.priority.ordinal}">
            <c:choose>
              <c:when test="${style eq 'even'}">
                <c:set var="style" value="odd" />
              </c:when>
              <c:otherwise>
                <c:set var="style" value="even" />
              </c:otherwise>
            </c:choose>
            <tr class="${style}">
              <td><a href="#">${zeile[0].zeile}</a></td>
              <td><c:forEach begin="0" end="${zeile[0].indent}">&nbsp;</c:forEach>${zeile[0].bezeichnung}</td>
              <c:set var="col" value="0" />
              <c:forEach var="entry" items="${zeile}">
                <c:choose>
                  <c:when test="${col == 0}">
                    <c:set var="tdStyle" value="font-weight: bold;" />
                  </c:when>
                  <c:otherwise>
                    <c:set var="tdStyle" value="" />
                  </c:otherwise>
                </c:choose>
                <c:if test="${entry.bwaWert lt 0}">
                  <c:set var="tdStyle" value="${tdStyle}color: red;" />
                </c:if>
                <c:set var="col" value="${col + 1}" />
                <td style="text-align: right; white-space: nowrap;"><pf:currency value="${entry.bwaWert}" suppressOutputOfZeroAmount="true" /> <stripes:link
                  href="/secure/fibu/BuchungssatzList.action">
                  <stripes:param name="reportId" value="${entry.bwa.reference.id}" />
                  <stripes:param name="bwaZeileId" value="${entry.zeile}" />
                  <pf:image src="/images/attach.png" />
                </stripes:link></td>
              </c:forEach>
            </tr>
          </c:if>
        </c:forEach>
      </tbody>
    </table>
    </c:otherwise>
    </c:choose>
  </wicket:container></form>
</wicket:extend>
</body>
</html>