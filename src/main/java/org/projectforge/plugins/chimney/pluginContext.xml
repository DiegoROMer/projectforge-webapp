<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans-2.0.dtd">
<beans default-lazy-init="false" default-autowire="byType">
  <!-- Daos (automatically initialized as singletons.) -->
  <bean id="projectDao" class="org.projectforge.plugins.chimney.wbs.ProjectDao" />
  <bean id="workpackageDao" class="org.projectforge.plugins.chimney.wbs.WorkpackageDao" />
  <bean id="wbsNodeDao" class="org.projectforge.plugins.chimney.wbs.WbsNodeDao" />
  <bean id="subtaskDao" class="org.projectforge.plugins.chimney.wbs.SubtaskDao" />
  <bean id="milestoneDao" class="org.projectforge.plugins.chimney.wbs.MilestoneDao" />
  <bean id="phaseDao" class="org.projectforge.plugins.chimney.wbs.PhaseDao" />
  
  <bean id="wbsActivityDao" class="org.projectforge.plugins.chimney.activities.WbsActivityDao"></bean>
  <bean id="dependencyRelationDao" class="org.projectforge.plugins.chimney.activities.DependencyRelationDao"></bean>

  <bean id="resourceAssignmentDao" class="org.projectforge.plugins.chimney.resourceplanning.ResourceAssignmentDao" />

  <bean id="wbsNodeDaoFinder" class="org.projectforge.plugins.chimney.wbs.visitors.DefaultWbsNodeDaoVisitor" />
  <bean id="wicketWbsUtils" class="org.projectforge.plugins.chimney.web.WicketWbsUtils" />

  
  
  <bean id="wbsActivityNavigator" class="org.projectforge.plugins.chimney.gantt.WbsActivityNavigator">
  	<constructor-arg ref="wbsActivityDao"/>
  </bean>
  
  <bean id="holidayChecker" class="org.projectforge.plugins.chimney.utils.date.ProjectForgeHolidaysHolidayChecker"/>
  
  <bean id="plannedResourcesProvider" class="org.projectforge.plugins.chimney.gantt.ResDaoBackedPlannedResourcesProvider">
  	<constructor-arg ref="resourceAssignmentDao"/>
  </bean>
  
  <bean id="neededDurationProvider" class="org.projectforge.plugins.chimney.gantt.ResourceBasedNeededDurationProvider">
  	<constructor-arg ref="plannedResourcesProvider"/>
  </bean>
  
  <bean id="dateCalculator" class="org.projectforge.plugins.chimney.utils.date.WorkdayDateCalculator">
  	<constructor-arg ref="holidayChecker"/>
  </bean>
  
  <bean id="scheduler" class="org.projectforge.plugins.chimney.gantt.FixedProjectBeginScheduler" scope="prototype">
  	<constructor-arg ref="wbsActivityNavigator"/>
	<constructor-arg ref="neededDurationProvider"/>
	<constructor-arg ref="dateCalculator"/>
  </bean>
  
  <bean id="runInTransactionService" class="org.projectforge.plugins.chimney.utils.spring.RunInTransactionService" />
</beans>
